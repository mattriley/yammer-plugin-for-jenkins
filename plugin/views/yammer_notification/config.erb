<%
   f = taglib("/lib/form")
   f.block do
%>
    <table style="margin-left: 30px;">
      <%
         f.entry :title => 'Consumer Key',
                 :field => :client_key,
                 :description => 'Consumer Key provided by Yammer.' do
           f.textbox :clazz => 'required', :default => '${YAMMER_CLIENT_KEY}'
         end

         f.entry :title => 'Consumer Secret',
                 :field => :client_secret,
                 :description => 'Consumer Secret provided by Yammer.' do
           f.textbox :clazz => 'required', :default => '${YAMMER_CLIENT_SECRET}'
         end

         f.entry :title => 'Token Key',
                 :field => :token_key,
                 :description => 'Token Key of the Yammer user to post from.' do
           f.textbox :clazz => 'required', :default => '${YAMMER_TOKEN_KEY}'
         end

         f.entry :title => 'Token Secret',
                 :field => :token_secret,
                 :description => 'Token Secret of the Yammer user to post from.' do
           f.textbox :clazz => 'required', :default => '${YAMMER_TOKEN_SECRET}'
         end

         f.optionalBlock :title => 'Send success notifications',
                         :field => :send_success_notifications,
                         :inline => true do
           f.entry :title => 'Message',
                   :field => :success_message,
                   :description => 'The message to post when the build finishes with a status of SUCCESS.' do
             f.textarea :clazz => 'required', :default => '${JOB_NAME} #${BUILD_NUMBER} SUCCESS'
           end

           f.entry :title => 'Group ID',
                   :field => :success_group_id,
                   :description => 'The Yammer group ID to post the success notification to.' do
             f.textbox :clazz => 'required positive-number', :default => '${YAMMER_SUCCESS_GROUP_ID}'
           end
         end

         f.optionalBlock :title => 'Send failure notifications',
                         :field => :send_failure_notifications,
                         :inline => true do
           f.entry :title => 'Message',
                   :field => :failure_message,
                   :description => 'The message to post when the build finishes with a status OTHER THAN SUCCESS.' do
             f.textarea :clazz => 'required', :default => '${JOB_NAME} #${BUILD_NUMBER} FAILURE'
           end

           f.entry :title => 'Group ID',
                   :field => :failure_group_id,
                   :description => 'The Yammer group ID to post the failure notification to.' do
             f.textbox :clazz => 'required positive-number', :default => '${YAMMER_FAILURE_GROUP_ID}'
           end
         end

      %></table>
<%
   end
%>
